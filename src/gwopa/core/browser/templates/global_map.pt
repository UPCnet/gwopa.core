<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    lang="en"
    metal:use-macro="context/main_template/macros/master"
    i18n:domain="gwopa">
<body>

<metal:content-core fill-slot="main" tal:define="portal_state context/@@plone_portal_state;
                                                 portal_url portal_state/portal_url;">

    <metal:block define-macro="content-core">
        <h1 class="documentFirstHeading" i18n:translate=""> Projects </h1>
        <div class="row-fluid">
            <div class="col-md-3">
                <form>
                    <div>
                      <label i18n:translate=""> Year </label>
                      <input id="map-year" class="pat-select2"
                              data-pat-select2="vocabularyUrl:api-getProjectDates;"/>
                    </div>
                    <div>
                      <label i18n:translate=""> Working Area </label>
                      <input id="map-area" class="pat-select2"
                              data-pat-select2="vocabularyUrl:api-getProjectWorkingArea;" />
                    </div>
                    <div>
                      <label i18n:translate=""> Country </label>
                      <input id="map-country" class="pat-select2"
                              data-pat-select2="vocabularyUrl:api-getProjectCountry;" />
                    </div>
                    <div>
                      <label i18n:translate=""> WOP Platform </label>
                      <input id="map-platform" class="pat-select2"
                              data-pat-select2="vocabularyUrl:api-getProjectWOPPlatform;"/>
                    </div>
                    <div>
                      <label i18n:translate=""> WOP Program </label>
                      <input id="map-program" class="pat-select2"
                              data-pat-select2="vocabularyUrl:api-getProjectWOPProgram;"/>
                    </div>
                    <div>
                      <label i18n:translate=""> Partner </label>
                      <input id="map-partner" class="pat-select2"
                              data-pat-select2="vocabularyUrl:api-getProjectPartners;"/>
                    </div>
                    <div>
                      <label i18n:translate=""> KPI </label>
                      <input id="map-kpi" class="pat-select2"
                              data-pat-select2="vocabularyUrl:api-getProjectKPIs;"/>
                    </div>
                    <div>
                      <label i18n:translate="">Tags</label>
                      <input id="map-tags" class="pat-select2"
                              data-pat-select2="vocabularyUrl:api-getProjectTags;"/>
                    </div>
                    <div tal:define="values view/getBudgetLimits">
                      <label i18n:translate=""> Budget </label>
                      <input type="text" class="js-range-slider" name="budget_range" id="map-budget"
                          tal:attributes="data-min values/start; data-max values/end; from values/start; data-to values/end;" />
                    </div>
                    <div>
                      <input class="btn btn-warning" style="width: 49%;" id="clearfilters" value='Clear' />
                      <input class="btn btn-info" style="width: 49%;" id="applyfilters" value='Apply' />
                    </div>
                </form>
            </div>
            <br/>
            <div class="col-xs-12 col-md-9">
                <div id="map"></div>
            </div>
        </div>

        <link tal:attributes="href string:${portal_url}/++theme++gwopa.theme/assets/javascripts/ion.rangeSlider.min.css" rel="stylesheet" />
        <script type="text/javascript" src="++theme++gwopa.theme/assets/javascripts/ion.rangeSlider.min.js"></script>
        <script type="text/javascript" src="++theme++gwopa.theme/assets/javascripts/global_map.js"></script>

    </metal:block>
</metal:content-core>

</body>
</html>
