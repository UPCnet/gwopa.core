<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    lang="en"
    metal:use-macro="context/main_template/macros/master"
    i18n:domain="gwopa">
<body>

<metal:content-core fill-slot="main"
    tal:define="portal_state context/@@plone_portal_state;
                portal_url portal_state/portal_url;">

  <metal:javascript fill-slot="javascript_head_slot">
    <script>
      require = undefined;
      define = undefined;
    </script>
    <script src="//unpkg.com/vue@2.5.21/dist/vue.js"></script>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  </metal:javascript>

  <metal:block define-macro="content-core" tal:define="currentYear view/getYear">
    <ul class="pagination pagination-lg" style="float:right; margin: 0px;" tal:define="items view/getItems">
      <tal:block tal:repeat="item items">
        <li tal:attributes="class item/classe">
          <a href="#" tal:attributes="href item/url"><tal:omit-tag tal:content="item/title"></tal:omit-tag>
          </a>
        </li>
      </tal:block>
    </ul>

    <h1 class="documentFirstHeading">Planning - Project Year <tal:omit-tag tal:content="currentYear">2019</tal:omit-tag></h1>

    <div class="documentDescription description">
      Start date: <tal:omit-tag tal:content="view/getFaseStart">2019-02-02</tal:omit-tag> -- End date: <tal:omit-tag tal:content="view/getFaseEnd">2019-03-03</tal:omit-tag>
    </div>


    <div id="exTab1" class="container">
      <ul  class="nav nav-pills">
        <li class="active">
          <a  href="#1a" data-toggle="tab">Project</a>
        </li>
        <li><a href="#2a" data-toggle="tab">Outcomes</a>
        </li>
      </ul>

      <div class="tab-content clearfix">
        <div class="tab-pane active" id="1a">
          <tal:block-activities tal:define="areas view/getAreas" tal:condition="areas">
            <tal:objects repeat="item areas">
              <ul class="item" style="list-style-type: none;">
                <li>
                  <h3>
                    <div class="btn-group" role="group" aria-label="Add element">
                      <div data-toggle="dropdown"><i class="fas fa-plus-circle"></i></div>
                      <ul class="dropdown-menu" role="menu" aria-labelledby="types">
                        <li><a class="pat-plone-modal" tabindex="-1" href="" tal:attributes="href string:${item/url}/++add++Activity"><span><i class="fas fa-plus-circle"></i> Add Activity </span></a></li>
                        <li><a class="pat-plone-modal" tabindex="-1" href="" tal:attributes="href string:${item/url}/++add++Output"><span><i class="fas fa-plus-circle"></i> Add Output </span></a></li>
                      </ul>
                    </div>
                    <a class="pat-plone-modal" tal:attributes="href string:${item/url}/edit;"><i class="fas fa-edit"></i></a>
                    <a tal:attributes="href string:${item/url}/edit;"><i class="fa fa-remove" style="color:red"></i></a>
                    <a tal:attributes="href item/url" tal:content="item/title"> Item Title </a>
                    <span tal:content="item/description"></span>
                  </h3>
                </li>
              </ul>
            </tal:objects>
          </tal:block-activities>
          <table class="table table-hover">
            <thead>
              <tr>
                <th class="thname">
                  <div class="information object" id="header">
                   <div class="contentt" id="bl">Start</div>
                   <div class="separator">|</div>
                   <div class="contentt" id="value">End</div>
                   <div class="separator">|</div>
                   <div class="contentt" id="target">Target</div>
                   <div class="separator">|</div>
                   <div class="contentt" id="mu">Measuring Unit</div>
                  </div>
                </th>
                <th>Next update</th>
                <th>Actions</th>
              </tr>
            </thead>
            <tbody>
              <tal:block-activities tal:define="areas view/getAreas" tal:condition="areas">
                <tal:objects repeat="item areas">
                  <tal:block-subitems tal:define="files python:view.indicatorsInside(item);">
                    <tr tal:repeat="item files" class="block_sub_indicators" class="descripcion collapse in" id="IA5" aria-expanded="true" style="">
                      <td>
                        <div class="col-md-12 text-item-planning collapse in" role="tabpanel" aria-expanded="true" style="">
                          <a href="#OutputActivity1" role="button" data-toggle="collapse" data-parent="#accordion" aria-controls="#OutputActivity1" aria-expanded="false" class="collapsed">
                            <div class="output-planning" tal:content="item/portal_type">Type Output</div>
                            <h4 class="titulocatplan" id="output" tal:content="item/title">Output/Activity title</h4>
                            <a tal:condition="python:item['portal_type'] == 'Output'" class="pat-plone-modal" data-pat-plone-modal="{&quot;actionOptions&quot;: {&quot;displayInModal&quot;: false}}" tal:attributes="href string:${item/url}/++add++TargetValue" href="#"><button class="plone-btn plone-btn-sm"> + Target Value </button></a>
                    <div class="information object">
                             <div class="contentt" id="bl" tal:content="item/start">2019-02-02</div>
                             <div class="separator">|</div>
                             <div class="contentt" id="value" tal:content="item/end">2019-03-03</div>
                             <div class="separator">|</div>
                             <div class="contentt" id="target">XX4</div>
                             <div class="separator">|</div>
                             <div class="contentt" id="mu">XXCentimeters</div>
                            </div>

                            <tal:omit.tag tal:condition="python:item['portal_type'] == 'Activity'">
                              <a class="pat-plone-modal" data-pat-plone-modal="{&quot;actionOptions&quot;: {&quot;displayInModal&quot;: false}}" tal:attributes="href string:${item/url}/++add++Output" href="#"><button class="plone-btn plone-btn-sm plone-btn-success"> + New Output </button></a>
                              <tal:block-subitems2 tal:define="outputs python:view.indicatorsInside(item);">
                                <div tal:repeat="output outputs" class="block_sub_indicators">
                                  <div class="output-planning" style="margin-left:20px"  tal:content="output/portal_type">Type Output</div>
                                  <a class="pat-plone-modal" tal:attributes="href output/url" tal:content="output/title"> Item Title </a>
                                  <a class="pat-plone-modal" data-pat-plone-modal="{&quot;actionOptions&quot;: {&quot;displayInModal&quot;: false}}" tal:attributes="href string:${output/url}/++add++TargetValue" href="#"><button class="plone-btn plone-btn-sm"> + Target Value </button></a>
                                </div>
                              </tal:block-subitems2>
                            </tal:omit.tag>

                          </a>
                        </div>
                      </td>
                      <td class="date-w">31/1/2025</td>
                      <td>
                          <a title="Edit" alt="Edit" class="pat-plone-modal" tal:attributes="href string:${item/url}/edit;"><i class="far fa-edit"></i></a>
                          <a href="#"><i style="color:red;" class="far fa-trash-alt"></i></a>
                      </td>
                    </tr>
                  </tal:block-subitems>
                </tal:objects>
              </tal:block-activities>
            </tbody>
          </table>
        </div>
        <div class="tab-pane" id="2a">
          <tal:block-ouctomeskpi tal:define="outcomes view/listOutcomesKPI">
            <tal:block tal:condition="not:outcomes">
              <a class="pat-plone-modal" data-pat-plone-modal="{&quot;actionOptions&quot;: {&quot;displayInModal&quot;: false}}" tal:attributes="href string:${context/absolute_url}/++add++OutcomeKPI" href="#"><button class="context focus"> + New OutcomeKPI</button></a>
              <a class="pat-plone-modal" data-pat-plone-modal="{&quot;actionOptions&quot;: {&quot;displayInModal&quot;: false}}" tal:attributes="href string:${context/absolute_url}/++add++OutcomeZONE" href="#"><button class="context focus"> + New OutcomeZONE</button></a>
            </tal:block>
            <tal:block tal:condition="outcomes">
              <h3>
                <div class="btn-group" role="group" aria-label="Add element">
                  <div data-toggle="dropdown"><i class="fas fa-plus-circle"></i></div>
                  <ul class="dropdown-menu" role="menu" aria-labelledby="types">
                    <li><a class="pat-plone-modal" tabindex="-1" href="" tal:attributes="href string:${context/absolute_url}/++add++OutcomeKPI"><span><i class="fas fa-plus-circle"></i> New OutcomeKPI </span></a></li>
                    <li><a class="pat-plone-modal" tabindex="-1" href="" tal:attributes="href string:${context/absolute_url}/++add++OutcomeZONE"><span><i class="fas fa-plus-circle"></i> New OutcomeZONE </span></a></li>
                  </ul>
                </div>
                Utility Performance
              </h3>
              <tal:objects repeat="outcome outcomes">
                <ul class="item">
                  <li style="padding-left: 20px; list-style: none;">
                    <span tal:attributes="class string:label ${outcome/portal_type}"
                                tal:content="outcome/portal_type"> ACTIVITY </span>
                    <a tal:attributes="href outcome/url; title outcome/description" data-toggle="tooltip" class="pat-tooltip">
                      <tal:block tal:content="outcome/title"> Outcome Title </tal:block></a>
                  </li>
                </ul>
              </tal:objects>
            </tal:block>
          </tal:block-ouctomeskpi>
          <tal:block-ouctomes tal:define="outcomes view/listOutcomesCC" tal:condition="outcomes">
            <h3>
              <i class="fa fa-plus-circle"></i>
              Utility Capacity
            </h3>
            <tal:objects repeat="outcome outcomes">
              <ul class="item">
                <li style="padding-left: 20px; list-style: none;">
                  <span tal:attributes="class string:label ${outcome/portal_type}"
                              tal:content="outcome/portal_type"> ACTIVITY </span>
                  <a class="pat-plone-modal" tal:attributes="href string:${outcome/url}"><tal:block tal:content="outcome/area"> Outcome Title </tal:block></a>
                </li>
              </ul>
            </tal:objects>
          </tal:block-ouctomes>
        </div>
      </div>
    </div>

<!--     <div id="app">
      <demo></demo>
    </div>
 -->
  </metal:block>

<!--   <script src="/++theme++gwopa.theme/assets/javascripts/gwopa.umd.min.js"></script> -->

</metal:content-core>

</body>
</html>
