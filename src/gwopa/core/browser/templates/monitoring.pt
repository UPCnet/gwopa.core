<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    lang="en"
    metal:use-macro="context/main_template/macros/master"
    i18n:domain="gwopa">
<body>

<metal:content-core fill-slot="main"
    tal:define="portal_state context/@@plone_portal_state;
                portal_url portal_state/portal_url;">

  <metal:javascript fill-slot="javascript_head_slot">
    <script>
      require = undefined;
      define = undefined;
    </script>
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="//code.jquery.com/jquery-3.3.1.min.js"></script>
    <script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <script src="//unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/flatpickr"></script>
  </metal:javascript>

  <metal:block define-macro="content-core" tal:define="currentYear view/getYear">

    <div class="block-nav">
      <ul class="pagination pagination-lg" tal:define="items view/getItems">
        <tal:block tal:repeat="item items">
          <li tal:attributes="class item/classe; alt item/alt; title item/alt">
            <a href="#" tal:attributes="href item/url"><tal:omit-tag tal:content="item/title"></tal:omit-tag>
            </a>
          </li>
        </tal:block>
      </ul>
    </div>

    <h1 class="documentFirstHeading"><tal:omit-tag i18n:translate="">Monitoring - Project year </tal:omit-tag>&nbsp;<tal:omit-tag tal:content="currentYear">2019</tal:omit-tag></h1>
    <div class="documentDescription description projectDates">
      This year starts on <span tal:content="view/getFaseStart" class="dateNumbers">2019-02-02</span> and ends on <span tal:content="view/getFaseEnd" class="dateNumbers">2019-03-03</span>
    </div>

    <span tal:content="view/getAnnotation"> TEST ANNOTATIONS </span>
    <span tal:content="view/getPhases" id="totalPhases" style="display: none"></span>

    <div id="tabsmonitoring" class="container">
      <ul class="nav nav-pills">
        <li class="active">
          <a href="#project" data-toggle="tab">Project</a>
        </li>
        <li><a href="#outcomes" data-toggle="tab">Outcomes</a>
        </li>
      </ul>
      <div class="tab-content clearfix">
        <div class="tab-pane active" id="project">
          <tal:block-activities tal:define="areas view/getAreas" tal:condition="areas">
            <div class="documentDescription titleCollapse">
              <span id="collapseAllProjectTab" i18n:translate="">Collapse all <i class="fa fa-chevron-up" aria-hidden="true"></i></span>
              <span id="expandAllProjectTab" i18n:translate="">Expand all <i class="fa fa-chevron-down" aria-hidden="true"></i></span>
            </div>
            <tal:objects repeat="item areas">
              <div class="tabla_contenido_items" tal:define="files python:view.indicatorsInside(item);">
                <div class="tabla_cabecera">
                  <div class="tabla_hilera">
                    <div class="tabla_info">
                      <div class="information object" id="header">
                        <div class="contentt" id="total">
                          <div class="titleRowMonitoring">
                            <a tal:attributes="href item/url" tal:content="item/title"> Item Title </a>
                          </div>
                        </div>
                        <div class="contentt" id="comple">Completion Date</div>
                        <div class="contentt" id="pyv">Target value</div>
                        <div class="contentt" id="nexupd">Next update</div>
                        <a type="button" class="expand" data-original-title="Expand">
                          <i style="color: #557c95" class="fas fa-chevron-down" aria-hidden="true"></i></a>
                        <a type="button" class="notexpand" data-original-title="Collapse">
                          <i style="color: #557c95" class="fas fa-chevron-up" aria-hidden="true"></i></a>
                      </div>
                    </div>
                  </div>
                </div>
                <!-- Activity -->
                <div class="tabla_cuerpo" tal:repeat="item files">
                  <div class="tabla_hilera">
                    <div class="block_content">
                      <div class="col-md-12 text-item-planning">
                        <div class="information object">
                          <div class="contentt" id="total">
                            <div class="itemStatus">
                              <span style="color: Mediumslateblue;">
                                <i class="fas fa-exclamation"></i>
                              </span>
                              <span style="color: Tomato;">
                                <i class="fas fa-circle"></i>
                              </span>
                            </div>
                            <div tal:attributes="class string:${item/portal_type}-planning" tal:content="item/portal_type"> Activity/output label</div>
                            <h4 class="titulocatplan" tal:attributes="id item/portal_type" tal:content="item/title"> Activity/Output Title </h4>
                          </div>
                          <div class="contentt" id="comple" tal:content="item/end">28-02-2020</div>
                          <div class="contentt" id="pyv">
                            <span tal:content="item/value"> 200 </span>
                            <span tal:content="item/unit"> m3 </span>
                          </div>
                          <div class="contentt" id="nexupd" tal:content="item/next_update"> 18-12-2022</div>
                          <div class="contentt" id="down">
                            <a type="button" class="expand" data-original-title="Expand">
                              <i style="color: #557c95" class="fas fa-chevron-down" aria-hidden="true"></i></a>
                            <a type="button" class="notexpand" data-original-title="Collapse">
                              <i style="color: #557c95" class="fas fa-chevron-up" aria-hidden="true"></i></a>
                          </div>
                        </div>
                        <tal:comment replace="nothing"> <!-- Activity desplegable --> </tal:comment>
                        <div class="tabla_cuerpo" id="contenido" tal:condition="python:item['portal_type'] == 'Activity'">
                          <div class="col-md-12 text-item-planning expandedBox" id="#" role="tabpanel" aria-expanded="true">
                            <div class="filacontenido">
                              <div class="col-sm-2" id="value">
                                <h3 i18n:translate=""> Progress Degree </h3>
                                <textarea class="form-control" id="message-text"></textarea>
                              </div>
                              <div class="col-sm-4" id="explprog">
                                <h3 i18n:translate="">Explanation Progress</h3>
                                <textarea class="form-control" id="message-text"></textarea>
                              </div>
                              <div class="col-sm-3" id="mainobst">
                                <h3 i18n:translate="">Main Obstacles</h3>
                                <select name="Name" class="focus">
                                  <option value="#">Obstacle 1</option>
                                  <option value="#">Obstacle 2</option>
                                  <option value="#">Obstacle 3</option>
                                </select>
                              </div>
                              <div class="col-sm-3" id="maincontrfact">
                                <h3 i18n:translate="">Main Contributing factors</h3>
                                <select name="Name" class="focus">
                                  <option value="#">Factor 1</option>
                                  <option value="#">Factor 2</option>
                                  <option value="#">Factor 3</option>
                                </select>
                              </div>
                            </div>
                            <div class="filacontenido">
                              <div class="col-sm-6" id="conforfurplan">
                                <h3 i18n:translate="">Consideration for further planning</h3>
                                <textarea class="form-control" id="message-text"></textarea>
                              </div>
                              <div class="col-sm-6" id="explcontrlimfac">
                                <h3 i18n:translate="">Explain contributed and limiting factors</h3>
                                <textarea class="form-control" id="message-text"></textarea>
                              </div>
                            </div>
                            <button type="button" class="btn btn-default focus" data-dismiss="3">Update</button>
                          </div>
                        </div>
                        <tal:comment replace="nothing"> <!-- Output desplegable --> </tal:comment>
                        <div class="tabla_cuerpo" id="contenido" tal:condition="python:item['portal_type'] == 'Output'">
                          <div class="col-md-12 text-item-planning expandedBox" id="#" role="tabpanel" aria-expanded="true">
                            <div class="filacontenido">
                              <div class="col-sm-2" id="value">
                                <h3 i18n:translate="">Value</h3>
                                <textarea class="form-control" id="message-text"></textarea>
                              </div>
                              <div class="col-sm-4" id="explprog">
                                <h3 i18n:translate="">Explanation</h3>
                                <textarea class="form-control" id="message-text"></textarea>
                              </div>
                              <div class="col-sm-3" id="mainobst">
                                <h3 i18n:translate="">Main Obstacles</h3>
                                <select name="Name" class="focus">
                                  <option value="#">Obstacle 1</option>
                                  <option value="#">Obstacle 2</option>
                                  <option value="#">Obstacle 3</option>
                                </select>
                              </div>
                              <div class="col-sm-3" id="maincontrfact">
                                <h3 i18n:translate="">Main Contributing factors</h3>
                                <select name="Name" class="focus">
                                  <option value="#">Factor 1</option>
                                  <option value="#">Factor 2</option>
                                  <option value="#">Factor 3</option>
                                </select>
                              </div>
                            </div>
                            <div class="filacontenido">
                              <div class="col-sm-6" id="conforfurplan">
                                <h3 i18n:translate="">Consideration for further planning</h3>
                                <textarea class="form-control" id="message-text"></textarea>
                              </div>
                              <div class="col-sm-6" id="explcontrlimfac">
                                <h3 i18n:translate="">Explain contributed and limiting factors</h3>
                                <textarea class="form-control" id="message-text"></textarea>
                              </div>
                            </div>
                            <button type="button" class="btn btn-default focus" data-dismiss="3">Update</button>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </tal:objects>
          </tal:block-activities>
        </div>

        <div class="tab-pane" id="outcomes">
          <div class="documentDescription titleCollapse">
            <span id="collapseAllOutcomeTab" i18n:translate="">Collapse all <i class="fa fa-chevron-up" aria-hidden="true"></i></span>
            <span id="expandAllOutcomeTab" i18n:translate="">Expand all <i class="fa fa-chevron-down" aria-hidden="true"></i></span>
          </div>
          <div class="tabla_contenido_items"  tal:define="outcomes view/listOutcomesKPI">
            <div class="tabla_cabecera">
              <div class="tabla_hilera">
                <div class="tabla_info">
                  <div class="information object" id="header">
                    <div class="contentt" id="total">
                      <div class="titleRowMonitoring">
                        <tal:omit-tag i18n:translate=""> Utility Performance </tal:omit-tag>
                      </div>
                    </div>
                    <div class="contentt" id="comple">Completion date</div>
                    <div class="contentt" id="pyv">Target value</div>
                    <div class="contentt" id="mu">Measuring Unit</div>
                    <div class="contentt" id="freq">Frequency</div><div class="contentt" id="nexupd">Next update</div>
                    <a type="button" class="expand" data-original-title="Expand">
                      <i style="color: #557c95" class="fas fa-chevron-down" aria-hidden="true"></i></a>
                    <a type="button" class="notexpand" data-original-title="Collapse">
                      <i style="color: #557c95" class="fas fa-chevron-up" aria-hidden="true"></i></a>
                  </div>
                </div>
              </div>
            </div>
            <div class="tabla_cuerpo">
              <div class="tabla_hilera">
                <div class="block_content">
                  <tal:objects repeat="outcome outcomes">
                    <div class="col-md-12 text-item-planning">
                      <div class="information object">
                        <div class="contentt" id="total">
                            <div class="itemStatus">
                              <span style="color: Mediumslateblue;">
                                <i class="fas fa-exclamation"></i>
                              </span>
                              <span style="color: Tomato;">
                                <i class="fas fa-circle"></i>
                              </span>
                            </div>
                          <div tal:attributes="class string:${outcome/portal_type}-planning" tal:content="outcome/portal_type"> Outcome - KPI Type</div>
                          <h4 class="titulocatplan" tal:content="outcome/title">KPI</h4>
                        </div>
                        <div class="contentt" id="comple">28-02-2020</div>
                        <div class="contentt" id="pyv">28-12-2022</div>
                        <div class="contentt" id="mu">Centimeters</div>
                        <div class="contentt" id="freq">Frequency</div>
                        <div class="contentt" id="nexupd">28-12-2022</div>
                        <a type="button" class="expand" data-original-title="Expand">
                          <i style="color: #557c95" class="fas fa-chevron-down" aria-hidden="true"></i></a>
                        <a type="button" class="notexpand" data-original-title="Collapse">
                          <i style="color: #557c95" class="fas fa-chevron-up" aria-hidden="true"></i></a>
                      </div>
                      <tal:comment replace="nothing">  <!-- KPI desplegable --> </tal:comment>
                      <div class="tabla_cuerpo" id="contenido">
                        <div class="col-md-12 text-item-planning expandedBox" id="#" role="tabpanel" aria-expanded="true">
                          <div class="filacontenido">
                            <div class="col-sm-2" id="value">
                              <h3 i18n:translate="">Current</h3>
                              <textarea class="form-control" id="message-text"></textarea>
                            </div>
                            <div class="col-sm-4" id="explprog">
                              <h3 i18n:translate="">Explanation</h3>
                              <textarea class="form-control" id="message-text"></textarea>
                            </div>
                            <div class="col-sm-3" id="mainobst">
                              <h3 i18n:translate="">Main Obstacles</h3>
                              <select name="Name" class="focus">
                                <option value="#">Obstacle 1</option>
                                <option value="#">Obstacle 2</option>
                                <option value="#">Obstacle 3</option>
                              </select>
                            </div>
                            <div class="col-sm-3" id="maincontrfact">
                              <h3 i18n:translate="">Main Contributing factors</h3>
                              <select name="Name" class="focus">
                                <option value="#">Factor 1</option>
                                <option value="#">Factor 2</option>
                                <option value="#">Factor 3</option>
                              </select>
                            </div>
                          </div>
                          <div class="filacontenido">
                            <div class="col-sm-6" id="conforfurplan">
                              <h3 i18n:translate="">Consideration for further planning</h3>
                              <textarea class="form-control" id="message-text"></textarea>
                            </div>
                            <div class="col-sm-6" id="explcontrlimfac">
                              <h3 i18n:translate="">Explain contributed and limiting factors</h3>
                              <textarea class="form-control" id="message-text"></textarea>
                            </div>
                          </div>
                          <button type="button" class="btn btn-default focus" data-dismiss="3">Update</button>
                        </div>
                      </div>
                    </div>
                  </tal:objects>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

    <script type="text/javascript">
        $(".expand").hide();
        $("#expandAllProjectTab").hide()
        $("#expandAllOutcomeTab").hide()
        $(".tabla_cuerpo").slideDown()

        $("#expandAllProjectTab").click(function(){
          $(".tabla_cuerpo").slideDown()
          $(".expand").parent().parent().parent().slideDown();
          $(".expand").hide();
          $(".notexpand").show();
          $("#expandAllProjectTab").hide();
          $("#collapseAllProjectTab").show();
        })

        $("#collapseAllProjectTab").click(function(){
          $(".tabla_cuerpo").slideUp()
          $(".notexpand").slideUp();
          $(".notexpand").hide();
          $(".expand").show();
          $("#expandAllProjectTab").show();
          $("#collapseAllProjectTab").hide();
        })

        $("#expandAllOutcomeTab").click(function(){
          $(".tabla_cuerpo").slideDown()
          $(".expand").parent().parent().parent().slideDown();
          $(".expand").hide();
          $(".notexpand").show();
          $("#expandAllOutcomeTab").hide();
          $("#collapseAllOutcomeTab").show();
        })

        $("#collapseAllOutcomeTab").click(function(){
          $(".tabla_cuerpo").slideUp()
          $(".notexpand").slideUp();
          $(".notexpand").hide();
          $(".expand").show();
          $("#expandAllOutcomeTab").show();
          $("#collapseAllOutcomeTab").hide();
        })

      $(".expand").click(function () {
        $header = $(this);
        $header.find('.expand').hide()
        $header.find('.notexpand').show()
        $header.parent().parent().parent().parent().parent().find('.tabla_cuerpo').slideToggle(500);
      });

      $(".notexpand").click(function () {
        $header = $(this);
        $header.find('.notexpand').hide()
        $header.find('.expand').show()
        $header.parent().parent().parent().parent().parent().find('.tabla_cuerpo').slideToggle(500);
      });
    </script>

</metal:block>

</metal:content-core>

</body>
</html>
