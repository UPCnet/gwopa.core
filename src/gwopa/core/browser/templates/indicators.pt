<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:metal="http://xml.zope.org/namespaces/metal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    lang="en"
    metal:use-macro="context/main_template/macros/master"
    i18n:domain="gwopa">
<body>

<metal:content-core fill-slot="content-core">

  <metal:block define-macro="content-core">

<!--
  Items structure:

  GOAL
      OUTCOME
          INDICATOR (KPI)
      OUTPUT
          INDICATOR
      INDICATOR
-->

      <hr/>
      <button type="button">
        <i class="fa fa-arrow-left" aria-hidden="true"></i>
        <a tal:attributes="href string:${context/absolute_url}/" href="#" style="color:inherit"> Return to Project </a>
      </button>
      <button type="button" class="btn btn-primary">
        <a href="++add++Activity" >+ New Activity</a>
      </button>
      <button type="button" class="btn btn-primary">
        <a href="++add++Goal" >+ New Goal</a>
      </button>

      <h3 i18n:translate="">Activities</h3>

      <tal:objects repeat="item view/listActivities">
        <ul class="activity_item">
          <li>
              <a tal:attributes="href item/url;" tal:content="item/title"> Item Title </a>
            <p tal:condition="item/description">
              <span tal:content="item/description"> Item Description </span>
            </p>
          </li>
        </ul>
      </tal:objects>

      <h3 i18n:translate="">Indicators</h3>

      <tal:objects repeat="item view/goalsList">
        <ul class="goal_item">
          <li>
            <span class="label label-default" tal:attributes="class string:label ${item/portal_type}"
            tal:content="item/portal_type"> GOAL </span>
              <a tal:attributes="href item/url;" tal:content="item/title"> Item Title </a>
            <p tal:condition="item/description">
              <span tal:content="item/description"> Item Description </span>
            </p>
          </li>
          <tal:block-subitems tal:define="files python:view.indicatorsInside(item);">
            <ul tal:repeat="item files" class="block_sub_indicators">
              <li class="indicator_item">
                <span class="label label-default" tal:attributes="class string:label ${item/portal_type}"
                      tal:content="item/portal_type"> INDICATOR </span>
                <a tal:attributes="href item/url;" tal:content="item/title"> Item Title </a>
              </li>
              <tal:block-subsubitems tal:define="files python:view.indicatorsInsideInside(item);">
                <ul tal:repeat="item files" class="block_sub_indicators">
                  <li class="indicator_item">
                    <span class="label label-default" tal:attributes="class string:label ${item/portal_type}"
                          tal:content="item/portal_type"> INDICATOR </span>
                    <a tal:attributes="href item/url;" tal:content="item/title"> Item Title </a>
                  </li>
                </ul>
              </tal:block-subsubitems>
            </ul>
          </tal:block-subitems>
        </ul>
      </tal:objects>

  </metal:block>

</metal:content-core>

</body>
</html>
